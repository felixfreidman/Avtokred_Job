"use strict";function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}var allNextButtons=document.querySelectorAll(".form-navigation__button--next"),detailedFormObject={type:"",credit:"",time:"",income:"",invest:"",userName:"",userPhone:""};allNextButtons.forEach(function(o){o.addEventListener("click",function(){var e=(e=o.id).replace("Button",""),t=o.parentNode.parentNode.id;document.getElementById(t).classList.toggle("screen--hide"),document.getElementById(t).classList.toggle("screen--show"),document.getElementById(e).classList.toggle("screen--hide"),document.getElementById(e).classList.toggle("screen--show"),document.querySelectorAll("input[name='autoSelect']").forEach(function(e){var t;e.checked&&(t=e.id,detailedFormObject.type=t.toString())});var n=document.getElementById("debtInput").value;console.log(n),detailedFormObject.credit=n.toString();var i=document.getElementById("timeInput").value;detailedFormObject.time=i.toString();var s=document.getElementById("incomeInput").value;detailedFormObject.income=s.toString();var a=document.getElementById("investInput").value;detailedFormObject.invest=a.toString(),console.log(detailedFormObject)})});var allPrevButtons=document.querySelectorAll(".form-navigation__button--prev");allPrevButtons.forEach(function(n){n.addEventListener("click",function(){var e=(e=n.id).replace("Button",""),t=n.parentNode.parentNode.id;document.getElementById(t).classList.toggle("screen--hide"),document.getElementById(t).classList.toggle("screen--show"),document.getElementById(e).classList.toggle("screen--hide"),document.getElementById(e).classList.toggle("screen--show")})});var detailedButton=document.getElementById("detailedForm");detailedButton.addEventListener("click",function(){document.getElementById("firstScreen").classList.toggle("screen--hide"),document.getElementById("firstScreen").classList.toggle("screen--show"),document.getElementById("secondScreen").classList.toggle("screen--hide"),document.getElementById("secondScreen").classList.toggle("screen--show")});var userNameInput=document.getElementById("userName"),userPhoneInput=document.getElementById("userPhone");$(document).ready(function(){$(".submit-button").addClass("form-navigation__button--disabled"),$("#userName").keyup(function(){console.log("yes"),0!=$(this).val().length&&0!=$("#userPhone").val().length&&$(".submit-button").removeClass("form-navigation__button--disabled")}),$("#userPhone").keyup(function(){console.log("yes"),0!=$(this).val().length&&0!=$("#userName").val().length&&$(".submit-button").removeClass("form-navigation__button--disabled")})});var menu=[],HeadersArray=document.querySelectorAll(".attention-container__header");HeadersArray.forEach(function(e){var t=e.getAttribute("data-info");menu.push(t)});var swiperGreet=new Swiper("#greetingSwipper",{pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return'\n            <div class = "'.concat(t,' bullet-special">\n                <div class ="bullet-header">').concat(menu[e],'</div>\n                <div class = ""></div>\n            </div>\n            ')}},loop:!0,effect:"fade",speed:800,watchSlidesProgress:!0,watchVisibility:!0,disableOnInteraction:!0}),swiperBanks=new Swiper("#banksSwiper",{navigation:{nextEl:".button-bank--next",prevEl:".button-bank--prev"},pagination:{el:".banks-pagination",clickable:!0},loop:!0,effect:"cards",speed:800,slidesPerView:6}),TxtType=function(e,t,n){this.toRotate=t,this.el=e,this.loopNum=0,this.period=parseInt(n,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};TxtType.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var n=this,i=200-100*Math.random();this.isDeleting&&(i/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,i=500):(i=this.period,this.isDeleting=!0),setTimeout(function(){n.tick()},i)},window.onload=function(){for(var e=document.getElementsByClassName("typewrite"),t=0;t<e.length;t++){var n=e[t].getAttribute("data-type"),i=e[t].getAttribute("data-period");n&&new TxtType(e[t],JSON.parse(n),i)}var s=document.createElement("style");s.type="text/css",s.innerHTML=".typewrite > .wrap { border-right: 0.08em solid #fff}",document.body.appendChild(s)},AOS.init({startEvent:"DOMContentLoaded"}),$(document).ready(function(){$("#sliderDebt").slider({range:"min",animate:!0,value:5e5,min:1e5,max:435e4,step:1e3,slide:function(e,t){var n=numberWithCommas(n=t.value);$("#debtInput").val(n)}}),$("#debtInput").val($("#sliderDebt").slider("option","value")),$("#debtInput").change(function(){$("#sliderDebt").slider("value",$(this).val())}),$("#sliderTime").slider({range:"min",animate:!0,value:3,min:1,max:8,step:1,slide:function(e,t){var n=t.value;switch(n){case 1:n="".concat(n," год");break;case 2:case 3:case 4:n="".concat(n," года");break;default:n="".concat(n," лет")}$("#timeInput").val(n)}}),$("#timeInput").val($("#sliderTime").slider("option","value"));var e=$("#timeInput").val();console.log(e),e="".concat(e," года"),$("#timeInput").val(e),$("#timeInput").change(function(){$("#sliderTime").slider("value",$(this).val())}),$("#sliderIncome").slider({range:"min",animate:!0,value:3e4,min:1e4,max:5e5,step:5e3,slide:function(e,t){var n=numberWithCommas(n=t.value);$("#incomeInput").val(n)}}),$("#incomeInput").val($("#sliderIncome").slider("option","value")),$("#incomeInput").change(function(){$("#sliderIncome").slider("value",$(this).val())}),$("#sliderInvest").slider({range:"min",animate:!0,value:1e5,min:0,max:4e5,step:1e3,slide:function(e,t){var n=numberWithCommas(n=t.value);$("#investInput").val(n)}}),$("#investInput").val($("#sliderInvest").slider("option","value")),$("#investInput").change(function(){$("#sliderInvest").slider("value",$(this).val())})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImNvbXBvbmVudHMuanMiXSwibmFtZXMiOlsibnVtYmVyV2l0aENvbW1hcyIsIngiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJhbGxOZXh0QnV0dG9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImRldGFpbGVkRm9ybU9iamVjdCIsInR5cGUiLCJjcmVkaXQiLCJ0aW1lIiwiaW5jb21lIiwiaW52ZXN0IiwidXNlck5hbWUiLCJ1c2VyUGhvbmUiLCJmb3JFYWNoIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJ1dHRvbklkIiwiaWQiLCJwYXJlbnRJZCIsInBhcmVudE5vZGUiLCJnZXRFbGVtZW50QnlJZCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImlucHV0IiwiY2hlY2tlZE9wdGlvbiIsImNoZWNrZWQiLCJjcmVkaXRTdW0iLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJjcmVkaXRUaW1lIiwidXNlckluY29tZSIsImNyZWRpdEludmVzdCIsImFsbFByZXZCdXR0b25zIiwiZGV0YWlsZWRCdXR0b24iLCJ1c2VyTmFtZUlucHV0IiwidXNlclBob25lSW5wdXQiLCIkIiwicmVhZHkiLCJhZGRDbGFzcyIsImtleXVwIiwidGhpcyIsInZhbCIsImxlbmd0aCIsInJlbW92ZUNsYXNzIiwibWVudSIsIkhlYWRlcnNBcnJheSIsImVsZW1lbnQiLCJIZWFkZXJWYWx1ZSIsImdldEF0dHJpYnV0ZSIsInB1c2giLCJzd2lwZXJHcmVldCIsIlN3aXBlciIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSIsInJlbmRlckJ1bGxldCIsImluZGV4IiwiY2xhc3NOYW1lIiwiY29uY2F0IiwibG9vcCIsImVmZmVjdCIsInNwZWVkIiwid2F0Y2hTbGlkZXNQcm9ncmVzcyIsIndhdGNoVmlzaWJpbGl0eSIsImRpc2FibGVPbkludGVyYWN0aW9uIiwic3dpcGVyQmFua3MiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwic2xpZGVzUGVyVmlldyIsIlR4dFR5cGUiLCJ0b1JvdGF0ZSIsInBlcmlvZCIsImxvb3BOdW0iLCJwYXJzZUludCIsInR4dCIsInRpY2siLCJpc0RlbGV0aW5nIiwicHJvdG90eXBlIiwiaSIsImZ1bGxUeHQiLCJzdWJzdHJpbmciLCJpbm5lckhUTUwiLCJ0aGF0IiwiZGVsdGEiLCJNYXRoIiwicmFuZG9tIiwic2V0VGltZW91dCIsIndpbmRvdyIsIm9ubG9hZCIsImVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkpTT04iLCJwYXJzZSIsImNzcyIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJBT1MiLCJpbml0Iiwic3RhcnRFdmVudCIsInNsaWRlciIsInJhbmdlIiwiYW5pbWF0ZSIsIm1pbiIsIm1heCIsInN0ZXAiLCJzbGlkZSIsImV2ZW50IiwidWkiLCJkZWJ0VmFsdWUiLCJjaGFuZ2UiLCJ0aW1lVmFsdWUiXSwibWFwcGluZ3MiOiJhQUFBLFNBQUFBLGlCQUFBQyxHQUNBLE9BQUFBLEVBQUFDLFdBQUFDLFFBQUEsd0JBQUEsS0FHQSxJQUFBQyxlQUFBQyxTQUFBQyxpQkFDQSxrQ0FFQUMsbUJBQUEsQ0FDQUMsS0FBQSxHQUNBQyxPQUFBLEdBQ0FDLEtBQUEsR0FDQUMsT0FBQSxHQUNBQyxPQUFBLEdBQ0FDLFNBQUEsR0FDQUMsVUFBQSxJQUVBVixlQUFBVyxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGlCQUFBLFFBQUEsV0FDQSxJQUNBQyxHQURBQSxFQUFBRixFQUFBRyxJQUNBaEIsUUFBQSxTQUFBLElBQ0FpQixFQUFBSixFQUFBSyxXQUFBQSxXQUFBRixHQUNBZCxTQUFBaUIsZUFBQUYsR0FBQUcsVUFBQUMsT0FBQSxnQkFDQW5CLFNBQUFpQixlQUFBRixHQUFBRyxVQUFBQyxPQUFBLGdCQUNBbkIsU0FBQWlCLGVBQUFKLEdBQUFLLFVBQUFDLE9BQUEsZ0JBQ0FuQixTQUFBaUIsZUFBQUosR0FBQUssVUFBQUMsT0FBQSxnQkFDQW5CLFNBQUFDLGlCQUFBLDRC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QUwsRUFBQSxpQkFBQWlFLE9BQUEsQ0FDQUMsTUFBQSxNQUNBQyxTQUFBLEVBQ0E3RSxNQUFBLElBQ0E4RSxJQUFBLElBQ0FDLElBQUEsSUFDQUMsS0FBQSxJQUNBQyxNQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFDQUMsRUFBQWpILGlCQURBaUgsRUFBQUQsRUFBQW5GLE9BRUFVLEVBQUEsZ0JBQUFLLElBQUFxRSxNQUdBMUUsRUFBQSxnQkFBQUssSUFBQUwsRUFBQSxpQkFBQWlFLE9BQUEsU0FBQSxVQUNBakUsRUFBQSxnQkFBQTJFLE9BQUEsV0FDQTNFLEVBQUEsaUJBQUFpRSxPQUFBLFFBQUFqRSxFQUFBSSxNQUFBQyxTQUVBTCxFQUFBLGlCQUFBaUUsT0FBQSxDQUNBQyxNQUFBLE1BQ0FDLFNBQUEsRUFDQTdFLE1BQUEsSUFDQThFLElBQUEsRUFDQUMsSUFBQSxJQUNBQyxLQUFBLElBQ0FDLE1BQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUNBQyxFQUFBakgsaUJBREFpSCxFQUFBRCxFQUFBbkYsT0FFQVUsRUFBQSxnQkFBQUssSUFBQXFFLE1BR0ExRSxFQUFBLGdCQUFBSyxJQUFBTCxFQUFBLGlCQUFBaUUsT0FBQSxTQUFBLFVBQ0FqRSxFQUFBLGdCQUFBMkUsT0FBQSxXQUNBM0UsRUFBQSxpQkFBQWlFLE9BQUEsUUFBQWpFLEVBQUFJLE1BQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBudW1iZXJXaXRoQ29tbWFzKHgpIHtcbiAgICByZXR1cm4geC50b1N0cmluZygpLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLlwiKTtcbn1cblxuY29uc3QgYWxsTmV4dEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgIFwiLmZvcm0tbmF2aWdhdGlvbl9fYnV0dG9uLS1uZXh0XCJcbik7XG5sZXQgZGV0YWlsZWRGb3JtT2JqZWN0ID0ge1xuICAgIHR5cGU6IFwiXCIsXG4gICAgY3JlZGl0OiBcIlwiLFxuICAgIHRpbWU6IFwiXCIsXG4gICAgaW5jb21lOiBcIlwiLFxuICAgIGludmVzdDogXCJcIixcbiAgICB1c2VyTmFtZTogXCJcIixcbiAgICB1c2VyUGhvbmU6IFwiXCIsXG59O1xuYWxsTmV4dEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGxldCBidXR0b25JZCA9IGJ1dHRvbi5pZDtcbiAgICAgICAgYnV0dG9uSWQgPSBidXR0b25JZC5yZXBsYWNlKFwiQnV0dG9uXCIsIFwiXCIpO1xuICAgICAgICBsZXQgcGFyZW50SWQgPSBidXR0b24ucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCkuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0taGlkZVwiKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50SWQpLmNsYXNzTGlzdC50b2dnbGUoXCJzY3JlZW4tLXNob3dcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbklkKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1oaWRlXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b25JZCkuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0tc2hvd1wiKTtcbiAgICAgICAgY29uc3QgdHlwZXNJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT0nYXV0b1NlbGVjdCddXCIpO1xuICAgICAgICB0eXBlc0lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hlY2tlZE9wdGlvbiA9IGlucHV0LmlkO1xuICAgICAgICAgICAgICAgIGRldGFpbGVkRm9ybU9iamVjdC50eXBlID0gY2hlY2tlZE9wdGlvbi50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY3JlZGl0U3VtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ0SW5wdXRcIikudmFsdWU7XG4gICAgICAgIGNvbnNvbGUubG9nKGNyZWRpdFN1bSk7XG4gICAgICAgIGRldGFpbGVkRm9ybU9iamVjdC5jcmVkaXQgPSBjcmVkaXRTdW0udG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgY3JlZGl0VGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGltZUlucHV0XCIpLnZhbHVlO1xuICAgICAgICBkZXRhaWxlZEZvcm1PYmplY3QudGltZSA9IGNyZWRpdFRpbWUudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgdXNlckluY29tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5jb21lSW5wdXRcIikudmFsdWU7XG4gICAgICAgIGRldGFpbGVkRm9ybU9iamVjdC5pbmNvbWUgPSB1c2VySW5jb21lLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGNyZWRpdEludmVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52ZXN0SW5wdXRcIikudmFsdWU7XG4gICAgICAgIGRldGFpbGVkRm9ybU9iamVjdC5pbnZlc3QgPSBjcmVkaXRJbnZlc3QudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc29sZS5sb2coZGV0YWlsZWRGb3JtT2JqZWN0KTtcbiAgICB9KTtcbn0pO1xuY29uc3QgYWxsUHJldkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgIFwiLmZvcm0tbmF2aWdhdGlvbl9fYnV0dG9uLS1wcmV2XCJcbik7XG5hbGxQcmV2QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbGV0IGJ1dHRvbklkID0gYnV0dG9uLmlkO1xuICAgICAgICBidXR0b25JZCA9IGJ1dHRvbklkLnJlcGxhY2UoXCJCdXR0b25cIiwgXCJcIik7XG4gICAgICAgIGxldCBwYXJlbnRJZCA9IGJ1dHRvbi5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWQ7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudElkKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1oaWRlXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCkuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0tc2hvd1wiKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uSWQpLmNsYXNzTGlzdC50b2dnbGUoXCJzY3JlZW4tLWhpZGVcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbklkKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1zaG93XCIpO1xuICAgIH0pO1xufSk7XG5cbmNvbnN0IGRldGFpbGVkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXRhaWxlZEZvcm1cIik7XG5kZXRhaWxlZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyc3RTY3JlZW5cIikuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0taGlkZVwiKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcnN0U2NyZWVuXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJzY3JlZW4tLXNob3dcIik7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWNvbmRTY3JlZW5cIikuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0taGlkZVwiKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlY29uZFNjcmVlblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1zaG93XCIpO1xufSk7XG5cbmNvbnN0IHVzZXJOYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJOYW1lXCIpO1xuY29uc3QgdXNlclBob25lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJQaG9uZVwiKTtcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICQoXCIuc3VibWl0LWJ1dHRvblwiKS5hZGRDbGFzcyhcImZvcm0tbmF2aWdhdGlvbl9fYnV0dG9uLS1kaXNhYmxlZFwiKTtcbiAgICAkKFwiI3VzZXJOYW1lXCIpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInllc1wiKTtcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkubGVuZ3RoICE9IDAgJiYgJChcIiN1c2VyUGhvbmVcIikudmFsKCkubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICQoXCIuc3VibWl0LWJ1dHRvblwiKS5yZW1vdmVDbGFzcyhcImZvcm0tbmF2aWdhdGlvbl9fYnV0dG9uLS1kaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICQoXCIjdXNlclBob25lXCIpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInllc1wiKTtcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkubGVuZ3RoICE9IDAgJiYgJChcIiN1c2VyTmFtZVwiKS52YWwoKS5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgJChcIi5zdWJtaXQtYnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwiZm9ybS1uYXZpZ2F0aW9uX19idXR0b24tLWRpc2FibGVkXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIvLyAvLyBoZWFkZXItc3dpcGVyXG5sZXQgbWVudSA9IFtdO1xubGV0IEhlYWRlcnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXR0ZW50aW9uLWNvbnRhaW5lcl9faGVhZGVyXCIpO1xuSGVhZGVyc0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgSGVhZGVyVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5mb1wiKTtcbiAgICBtZW51LnB1c2goSGVhZGVyVmFsdWUpO1xufSk7XG5sZXQgc3dpcGVyR3JlZXQgPSBuZXcgU3dpcGVyKFwiI2dyZWV0aW5nU3dpcHBlclwiLCB7XG4gICAgLy8gbmF2aWdhdGlvbjoge1xuICAgIC8vICAgICBuZXh0RWw6IFwiLmdyZWV0aW5nLW5leHRcIixcbiAgICAvLyAgICAgcHJldkVsOiBcIi5ncmVldGluZy1wcmV2XCIsXG4gICAgLy8gfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGVsOiBcIi5zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgIHJlbmRlckJ1bGxldDogZnVuY3Rpb24oaW5kZXgsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgbGV0IHJlYWR5RWxlbWVudCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3MgPSBcIiR7Y2xhc3NOYW1lfSBidWxsZXQtc3BlY2lhbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3MgPVwiYnVsbGV0LWhlYWRlclwiPiR7bWVudVtpbmRleF19PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwiXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgICByZXR1cm4gcmVhZHlFbGVtZW50O1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBlZmZlY3Q6IFwiZmFkZVwiLFxuICAgIHNwZWVkOiA4MDAsXG4gICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICB3YXRjaFZpc2liaWxpdHk6IHRydWUsXG4gICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IHRydWUsXG59KTtcbmxldCBzd2lwZXJCYW5rcyA9IG5ldyBTd2lwZXIoXCIjYmFua3NTd2lwZXJcIiwge1xuICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiBcIi5idXR0b24tYmFuay0tbmV4dFwiLFxuICAgICAgICBwcmV2RWw6IFwiLmJ1dHRvbi1iYW5rLS1wcmV2XCIsXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGVsOiBcIi5iYW5rcy1wYWdpbmF0aW9uXCIsXG4gICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIGxvb3A6IHRydWUsXG4gICAgZWZmZWN0OiBcImNhcmRzXCIsXG4gICAgc3BlZWQ6IDgwMCxcbiAgICBzbGlkZXNQZXJWaWV3OiA2LFxufSk7XG5cbnZhciBUeHRUeXBlID0gZnVuY3Rpb24oZWwsIHRvUm90YXRlLCBwZXJpb2QpIHtcbiAgICB0aGlzLnRvUm90YXRlID0gdG9Sb3RhdGU7XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMubG9vcE51bSA9IDA7XG4gICAgdGhpcy5wZXJpb2QgPSBwYXJzZUludChwZXJpb2QsIDEwKSB8fCAyMDAwO1xuICAgIHRoaXMudHh0ID0gXCJcIjtcbiAgICB0aGlzLnRpY2soKTtcbiAgICB0aGlzLmlzRGVsZXRpbmcgPSBmYWxzZTtcbn07XG5cblR4dFR5cGUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSA9IHRoaXMubG9vcE51bSAlIHRoaXMudG9Sb3RhdGUubGVuZ3RoO1xuICAgIHZhciBmdWxsVHh0ID0gdGhpcy50b1JvdGF0ZVtpXTtcblxuICAgIGlmICh0aGlzLmlzRGVsZXRpbmcpIHtcbiAgICAgICAgdGhpcy50eHQgPSBmdWxsVHh0LnN1YnN0cmluZygwLCB0aGlzLnR4dC5sZW5ndGggLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnR4dCA9IGZ1bGxUeHQuc3Vic3RyaW5nKDAsIHRoaXMudHh0Lmxlbmd0aCArIDEpO1xuICAgIH1cblxuICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwid3JhcFwiPicgKyB0aGlzLnR4dCArIFwiPC9zcGFuPlwiO1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHZhciBkZWx0YSA9IDIwMCAtIE1hdGgucmFuZG9tKCkgKiAxMDA7XG5cbiAgICBpZiAodGhpcy5pc0RlbGV0aW5nKSB7XG4gICAgICAgIGRlbHRhIC89IDI7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzRGVsZXRpbmcgJiYgdGhpcy50eHQgPT09IGZ1bGxUeHQpIHtcbiAgICAgICAgZGVsdGEgPSB0aGlzLnBlcmlvZDtcbiAgICAgICAgdGhpcy5pc0RlbGV0aW5nID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNEZWxldGluZyAmJiB0aGlzLnR4dCA9PT0gXCJcIikge1xuICAgICAgICB0aGlzLmlzRGVsZXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb29wTnVtKys7XG4gICAgICAgIGRlbHRhID0gNTAwO1xuICAgIH1cblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoYXQudGljaygpO1xuICAgIH0sIGRlbHRhKTtcbn07XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidHlwZXdyaXRlXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRvUm90YXRlID0gZWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpO1xuICAgICAgICB2YXIgcGVyaW9kID0gZWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wZXJpb2RcIik7XG4gICAgICAgIGlmICh0b1JvdGF0ZSkge1xuICAgICAgICAgICAgbmV3IFR4dFR5cGUoZWxlbWVudHNbaV0sIEpTT04ucGFyc2UodG9Sb3RhdGUpLCBwZXJpb2QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElOSkVDVCBDU1NcbiAgICB2YXIgY3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIGNzcy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgIGNzcy5pbm5lckhUTUwgPSBcIi50eXBld3JpdGUgPiAud3JhcCB7IGJvcmRlci1yaWdodDogMC4wOGVtIHNvbGlkICNmZmZ9XCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjc3MpO1xufTtcblxuQU9TLmluaXQoe1xuICAgIHN0YXJ0RXZlbnQ6IFwiRE9NQ29udGVudExvYWRlZFwiLFxufSk7XG5cbi8vIFNsaWRlciBTZWN0aW9uXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAkKFwiI3NsaWRlckRlYnRcIikuc2xpZGVyKHtcbiAgICAgICAgcmFuZ2U6IFwibWluXCIsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiA1MDAwMDAsXG4gICAgICAgIG1pbjogMTAwMDAwLFxuICAgICAgICBtYXg6IDQzNTAwMDAsXG4gICAgICAgIHN0ZXA6IDEwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjZGVidElucHV0XCIpLnZhbChkZWJ0VmFsdWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgICQoXCIjZGVidElucHV0XCIpLnZhbCgkKFwiI3NsaWRlckRlYnRcIikuc2xpZGVyKFwib3B0aW9uXCIsIFwidmFsdWVcIikpO1xuICAgICQoXCIjZGVidElucHV0XCIpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIiNzbGlkZXJEZWJ0XCIpLnNsaWRlcihcInZhbHVlXCIsICQodGhpcykudmFsKCkpO1xuICAgIH0pO1xuICAgICQoXCIjc2xpZGVyVGltZVwiKS5zbGlkZXIoe1xuICAgICAgICByYW5nZTogXCJtaW5cIixcbiAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIG1pbjogMSxcbiAgICAgICAgbWF4OiA4LFxuICAgICAgICBzdGVwOiAxLFxuICAgICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICBsZXQgdGltZVZhbHVlID0gdWkudmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHRpbWVWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdGltZVZhbHVlID0gYCR7dGltZVZhbHVlfSDQs9C+0LRgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVWYWx1ZSA9IGAke3RpbWVWYWx1ZX0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVWYWx1ZSA9IGAke3RpbWVWYWx1ZX0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVWYWx1ZSA9IGAke3RpbWVWYWx1ZX0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aW1lVmFsdWUgPSBgJHt0aW1lVmFsdWV9INC70LXRgmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKFwiI3RpbWVJbnB1dFwiKS52YWwodGltZVZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAkKFwiI3RpbWVJbnB1dFwiKS52YWwoJChcIiNzbGlkZXJUaW1lXCIpLnNsaWRlcihcIm9wdGlvblwiLCBcInZhbHVlXCIpKTtcbiAgICBsZXQgdGltZVZhbHVlID0gJChcIiN0aW1lSW5wdXRcIikudmFsKCk7XG4gICAgY29uc29sZS5sb2codGltZVZhbHVlKTtcbiAgICBzd2l0Y2ggKHRpbWVWYWx1ZSkge1xuICAgICAgICBkZWZhdWx0OiB0aW1lVmFsdWUgPSBgJHt0aW1lVmFsdWV9INCz0L7QtNCwYDtcbiAgICB9XG4gICAgJChcIiN0aW1lSW5wdXRcIikudmFsKHRpbWVWYWx1ZSk7XG4gICAgJChcIiN0aW1lSW5wdXRcIikuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI3NsaWRlclRpbWVcIikuc2xpZGVyKFwidmFsdWVcIiwgJCh0aGlzKS52YWwoKSk7XG4gICAgfSk7XG4gICAgJChcIiNzbGlkZXJJbmNvbWVcIikuc2xpZGVyKHtcbiAgICAgICAgcmFuZ2U6IFwibWluXCIsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAzMDAwMCxcbiAgICAgICAgbWluOiAxMDAwMCxcbiAgICAgICAgbWF4OiA1MDAwMDAsXG4gICAgICAgIHN0ZXA6IDUwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjaW5jb21lSW5wdXRcIikudmFsKGRlYnRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgJChcIiNpbmNvbWVJbnB1dFwiKS52YWwoJChcIiNzbGlkZXJJbmNvbWVcIikuc2xpZGVyKFwib3B0aW9uXCIsIFwidmFsdWVcIikpO1xuICAgICQoXCIjaW5jb21lSW5wdXRcIikuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI3NsaWRlckluY29tZVwiKS5zbGlkZXIoXCJ2YWx1ZVwiLCAkKHRoaXMpLnZhbCgpKTtcbiAgICB9KTtcbiAgICAkKFwiI3NsaWRlckludmVzdFwiKS5zbGlkZXIoe1xuICAgICAgICByYW5nZTogXCJtaW5cIixcbiAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDEwMDAwMCxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDQwMDAwMCxcbiAgICAgICAgc3RlcDogMTAwMCxcbiAgICAgICAgc2xpZGU6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgbGV0IGRlYnRWYWx1ZSA9IHVpLnZhbHVlO1xuICAgICAgICAgICAgZGVidFZhbHVlID0gbnVtYmVyV2l0aENvbW1hcyhkZWJ0VmFsdWUpO1xuICAgICAgICAgICAgJChcIiNpbnZlc3RJbnB1dFwiKS52YWwoZGVidFZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAkKFwiI2ludmVzdElucHV0XCIpLnZhbCgkKFwiI3NsaWRlckludmVzdFwiKS5zbGlkZXIoXCJvcHRpb25cIiwgXCJ2YWx1ZVwiKSk7XG4gICAgJChcIiNpbnZlc3RJbnB1dFwiKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIjc2xpZGVySW52ZXN0XCIpLnNsaWRlcihcInZhbHVlXCIsICQodGhpcykudmFsKCkpO1xuICAgIH0pO1xufSk7Il19
