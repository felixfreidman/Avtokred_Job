"use strict";function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}var allNextButtons=document.querySelectorAll(".form-navigation__button--next");allNextButtons.forEach(function(n){n.addEventListener("click",function(){var e=(e=n.id).replace("Button",""),t=n.parentNode.parentNode.id;document.getElementById(t).classList.toggle("screen--hide"),document.getElementById(t).classList.toggle("screen--show"),document.getElementById(e).classList.toggle("screen--hide"),document.getElementById(e).classList.toggle("screen--show"),document.querySelectorAll("input[name='autoSelect']").forEach(function(e){e.checked&&(e=e.id,detailedFormObject.type=e.toString())});e=document.getElementById("debtInput").value;console.log(e),detailedFormObject.credit=e.toString();e=document.getElementById("timeInput").value;detailedFormObject.time=e.toString();e=document.getElementById("investInput").value;detailedFormObject.invest=e.toString(),console.log(detailedFormObject)})});var allPrevButtons=document.querySelectorAll(".form-navigation__button--prev");allPrevButtons.forEach(function(n){n.addEventListener("click",function(){var e=(e=n.id).replace("Button",""),t=n.parentNode.parentNode.id;document.getElementById(t).classList.toggle("screen--hide"),document.getElementById(t).classList.toggle("screen--show"),document.getElementById(e).classList.toggle("screen--hide"),document.getElementById(e).classList.toggle("screen--show")})});var detailedFormObject={type:"",credit:"",time:"",invest:"",userName:"",userPhone:""},detailedButton=document.getElementById("detailedForm");detailedButton.addEventListener("click",function(){document.getElementById("firstScreen").classList.toggle("screen--hide"),document.getElementById("firstScreen").classList.toggle("screen--show"),document.getElementById("secondScreen").classList.toggle("screen--hide"),document.getElementById("secondScreen").classList.toggle("screen--show")});var userNameInput=document.getElementById("userName"),userPhoneInput=document.getElementById("userPhone");$(document).ready(function(){$(".submit-button").addClass("form-navigation__button--disabled"),$("#userName").keyup(function(){console.log("yes"),0!=$(this).val().length&&0!=$("#userPhone").val().length&&$(".submit-button").removeClass("form-navigation__button--disabled")}),$("#userPhone").keyup(function(){console.log("yes"),0!=$(this).val().length&&0!=$("#userName").val().length&&$(".submit-button").removeClass("form-navigation__button--disabled")})});var workProccessButtonOpen=document.getElementById("workProccessButtonOpen"),workProccessButtonClose=document.getElementById("workProccessButtonClose"),questionButtonOpen=document.getElementById("questionButtonOpen"),questionButtonClose=document.getElementById("questionButtonClose"),banksButtonOpen=document.getElementById("banksButtonOpen"),banksButtonClose=document.getElementById("banksButtonClose"),verticalSmallContainer=document.getElementById("verticalSmallContainer"),verticalBigContainer=document.getElementById("verticalBigContainer"),basicMenuContainer=document.getElementById("basicMenuContainer"),aboutButtonClose=document.getElementById("aboutButtonClose");function closeButton(){setTimeout(closeButtonDelay,100)}function closeButtonDelay(){banksButtonOpen.classList.toggle("buttonExpandBig")}function closeButtonAbout(){setTimeout(closeButtonAboutDelay,100)}function closeButtonAboutDelay(){verticalSmallContainer.classList.remove("containerSmallExpand"),basicMenuContainer.classList.remove("menuTransformed")}function closeButtonProcess(){setTimeout(closeButtonProcessDelay,100)}function closeButtonProcessDelay(){workProccessButtonOpen.classList.toggle("smallHorizontalExpanded")}function closeButtonQuestion(){setTimeout(closeButtonQuestionDelay,100)}function closeButtonQuestionDelay(){questionButtonOpen.classList.toggle("smallHorizontalExpanded")}function initAboutSwiper(){new Swiper("#aboutSwiper",{pagination:{el:".about-pagination",clickable:!0,renderBullet:function(e,t){return'\n            <div class = "'.concat(t,' bullet-special">\n                <div class ="bullet-header">').concat(menuCompany[e],'</div>\n                <div class = ""></div>\n            </div>\n            ')}},loop:!0,effect:"cube",speed:800})}function initQuestionSwiper(){new Swiper("#questionSwiper",{pagination:{el:".question-pagination",clickable:!0,renderBullet:function(e){return'\n            <div class = "swiper-pagination-bullet">\n                <div class = "question-image">\n                <img src = "'.concat(questionImages[e],'"/>\n                </div>\n                <div class = "question-header">').concat(questionHeaders[e],"</div>\n            </div>\n            ")}},loop:!0,effect:"fade",speed:800,direction:"vertical"})}workProccessButtonOpen.addEventListener("click",function(){workProccessButtonOpen.classList.contains("smallHorizontalExpanded")||workProccessButtonOpen.classList.add("smallHorizontalExpanded")}),questionButtonOpen.addEventListener("click",function(){questionButtonOpen.classList.contains("smallHorizontalExpanded")||(questionButtonOpen.classList.add("smallHorizontalExpanded"),setTimeout(initQuestionSwiper,300))}),banksButtonOpen.addEventListener("click",function(){banksButtonOpen.classList.contains("buttonExpandBig")||banksButtonOpen.classList.add("buttonExpandBig")}),verticalSmallContainer.addEventListener("click",function(){verticalSmallContainer.classList.contains("containerSmallExpand")||(verticalSmallContainer.classList.add("containerSmallExpand"),basicMenuContainer.classList.add("menuTransformed"),initAboutSwiper())}),banksButtonClose.addEventListener("click",closeButton),aboutButtonClose.addEventListener("click",closeButtonAbout),workProccessButtonClose.addEventListener("click",closeButtonProcess),questionButtonClose.addEventListener("click",closeButtonQuestion),console.log("Loh");var questionHeaders=[],questionHeaderArray=document.querySelectorAll(".question-slide");questionHeaderArray.forEach(function(e){e=e.getAttribute("data-question-header");questionHeaders.push(e)}),console.log(questionHeaderArray);var questionImages=[],questionImageArray=document.querySelectorAll(".question-slide");questionImageArray.forEach(function(e){e=e.getAttribute("data-question-image");questionImages.push(e)});var menu=[],HeadersArray=document.querySelectorAll(".attention-container__header");HeadersArray.forEach(function(e){e=e.getAttribute("data-info");menu.push(e)});var menuCompany=[],companyPagesArray=document.querySelectorAll(".about-info");companyPagesArray.forEach(function(e){e=e.getAttribute("data-info");menuCompany.push(e)});var swiperGreet=new Swiper("#greetingSwipper",{pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return'\n            <div class = "'.concat(t,' bullet-special">\n                <div class ="bullet-header">').concat(menu[e],'</div>\n                <div class = ""></div>\n            </div>\n            ')}},loop:!0,effect:"fade",speed:800,watchSlidesProgress:!0,watchVisibility:!0,disableOnInteraction:!0}),swiperBanks=new Swiper("#banksSwiper",{navigation:{nextEl:".button-bank--next",prevEl:".button-bank--prev"},pagination:{el:".banks-pagination",clickable:!0},loop:!0,effect:"cards",speed:800,slidesPerView:6}),TxtType=function(e,t,n){this.toRotate=t,this.el=e,this.loopNum=0,this.period=parseInt(n,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};TxtType.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var n=this,e=200-100*Math.random();this.isDeleting&&(e/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,e=500):(e=this.period,this.isDeleting=!0),setTimeout(function(){n.tick()},e)},window.onload=function(){for(var e=document.getElementsByClassName("typewrite"),t=0;t<e.length;t++){var n=e[t].getAttribute("data-type"),o=e[t].getAttribute("data-period");n&&new TxtType(e[t],JSON.parse(n),o)}var i=document.createElement("style");i.type="text/css",i.innerHTML=".typewrite > .wrap { border-right: 0.08em solid #fff}",document.body.appendChild(i)},AOS.init({startEvent:"DOMContentLoaded"}),$(document).ready(function(){$("#sliderDebt").slider({range:"min",animate:!0,value:5e5,min:1e5,max:435e4,step:1e3,slide:function(e,t){t=numberWithCommas(t=t.value);$("#debtInput").val(t)}}),$("#debtInput").val($("#sliderDebt").slider("option","value")),$("#debtInput").change(function(){$("#sliderDebt").slider("value",$(this).val())}),$("#sliderTime").slider({range:"min",animate:!0,value:3,min:1,max:8,step:1,slide:function(e,t){var n=t.value;switch(n){case 1:n="".concat(n," год");break;case 2:case 3:case 4:n="".concat(n," года");break;default:n="".concat(n," лет")}$("#timeInput").val(n)}}),$("#timeInput").val($("#sliderTime").slider("option","value"));var e=$("#timeInput").val(),e="".concat(e," года");$("#timeInput").val(e),$("#timeInput").change(function(){$("#sliderTime").slider("value",$(this).val())}),$("#sliderIncome").slider({range:"min",animate:!0,value:3e4,min:1e4,max:5e5,step:5e3,slide:function(e,t){t=numberWithCommas(t=t.value);$("#incomeInput").val(t)}}),$("#incomeInput").val($("#sliderIncome").slider("option","value")),$("#incomeInput").change(function(){$("#sliderIncome").slider("value",$(this).val())}),$("#sliderInvest").slider({range:"min",animate:!0,value:1e5,min:0,max:4e5,step:1e3,slide:function(e,t){t=numberWithCommas(t=t.value);$("#investInput").val(t)}}),$("#investInput").val($("#sliderInvest").slider("option","value")),$("#investInput").change(function(){$("#sliderInvest").slider("value",$(this).val())})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImNvbXBvbmVudHMuanMiXSwibmFtZXMiOlsibnVtYmVyV2l0aENvbW1hcyIsIngiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJhbGxOZXh0QnV0dG9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiYnV0dG9uSWQiLCJpZCIsInBhcmVudElkIiwicGFyZW50Tm9kZSIsImdldEVsZW1lbnRCeUlkIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaW5wdXQiLCJjaGVja2VkIiwiY2hlY2tlZE9wdGlvbiIsImRldGFpbGVkRm9ybU9iamVjdCIsInR5cGUiLCJjcmVkaXRTdW0iLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJjcmVkaXQiLCJjcmVkaXRUaW1lIiwidGltZSIsImNyZWRpdEludmVzdCIsImludmVzdCIsImFsbFByZXZCdXR0b25zIiwidXNlck5hbWUiLCJ1c2VyUGhvbmUiLCJkZXRhaWxlZEJ1dHRvbiIsInVzZXJOYW1lSW5wdXQiLCJ1c2VyUGhvbmVJbnB1dCIsIiQiLCJyZWFkeSIsImFkZENsYXNzIiwia2V5dXAiLCJ0aGlzIiwidmFsIiwibGVuZ3RoIiwicmVtb3ZlQ2xhc3MiLCJ3b3JrUHJvY2Nlc3NCdXR0b25PcGVuIiwid29ya1Byb2NjZXNzQnV0dG9uQ2xvc2UiLCJxdWVzdGlvbkJ1dHRvbk9wZW4iLCJxdWVzdGlvbkJ1dHRvbkNsb3NlIiwiYmFua3NCdXR0b25PcGVuIiwiYmFua3NCdXR0b25DbG9zZSIsInZlcnRpY2FsU21hbGxDb250YWluZXIiLCJ2ZXJ0aWNhbEJpZ0NvbnRhaW5lciIsImJhc2ljTWVudUNvbnRhaW5lciIsImFib3V0QnV0dG9uQ2xvc2UiLCJjbG9zZUJ1dHRvbiIsInNldFRpbWVvdXQiLCJjbG9zZUJ1dHRvbkRlbGF5IiwiY2xvc2VCdXR0b25BYm91dCIsImNsb3NlQnV0dG9uQWJvdXREZWxheSIsInJlbW92ZSIsImNsb3NlQnV0dG9uUHJvY2VzcyIsImNsb3NlQnV0dG9uUHJvY2Vzc0RlbGF5IiwiY2xvc2VCdXR0b25RdWVzdGlvbiIsImNsb3NlQnV0dG9uUXVlc3Rpb25EZWxheSIsImluaXRBYm91dFN3aXBlciIsIlN3aXBlciIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSIsInJlbmRlckJ1bGxldCIsImluZGV4IiwiY2xhc3NOYW1lIiwiY29uY2F0IiwibWVudUNvbXBhbnkiLCJsb29wIiwiZWZmZWN0Iiwic3BlZWQiLCJpbml0UXVlc3Rpb25Td2lwZXIiLCJxdWVzdGlvbkltYWdlcyIsInF1ZXN0aW9uSGVhZGVycyIsImRpcmVjdGlvbiIsImNvbnRhaW5zIiwiYWRkIiwicXVlc3Rpb25IZWFkZXJBcnJheSIsImVsZW1lbnQiLCJTbGlkZUluZm9IZWFkZXIiLCJnZXRBdHRyaWJ1dGUiLCJwdXNoIiwicXVlc3Rpb25JbWFnZUFycmF5IiwiU2xpZGVJbmZvSW1hZ2UiLCJtZW51IiwiSGVhZGVyc0FycmF5IiwiSGVhZGVyVmFsdWUiLCJjb21wYW55UGFnZXNBcnJheSIsInN3aXBlckdyZWV0Iiwid2F0Y2hTbGlkZXNQcm9ncmVzcyIsIndhdGNoVmlzaWJpbGl0eSIsImRpc2FibGVPbkludGVyYWN0aW9uIiwic3dpcGVyQmFua3MiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwic2xpZGVzUGVyVmlldyIsIlR4dFR5cGUiLCJ0b1JvdGF0ZSIsInBlcmlvZCIsImxvb3BOdW0iLCJwYXJzZUludCIsInR4dCIsInRpY2siLCJpc0RlbGV0aW5nIiwicHJvdG90eXBlIiwiaSIsImZ1bGxUeHQiLCJzdWJzdHJpbmciLCJpbm5lckhUTUwiLCJ0aGF0IiwiZGVsdGEiLCJNYXRoIiwicmFuZG9tIiwid2luZG93Iiwib25sb2FkIiwiZWxlbWVudHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiSlNPTiIsInBhcnNlIiwiY3NzIiwiY3JlYXRlRWxlbWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIkFPUyIsImluaXQiLCJzdGFydEV2ZW50Iiwic2xpZGVyIiwicmFuZ2UiLCJhbmltYXRlIiwibWluIiwibWF4Iiwic3RlcCIsInNsaWRlIiwiZXZlbnQiLCJ1aSIsImRlYnRWYWx1ZSIsImNoYW5nZSIsInRpbWVWYWx1ZSJdLCJtYXBwaW5ncyI6ImFBTUEsU0FBQUEsaUJBQUFDLEdBQ0EsT0FBQUEsRUFBQUMsV0FBQUMsUUFBQSx3QkFBQSxLQUlBLElBQUFDLGVBQUFDLFNBQUFDLGlCQUNBLGtDQUVBRixlQUFBRyxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGlCQUFBLFFBQUEsV0FDQSxJQUNBQyxHQURBQSxFQUFBRixFQUFBRyxJQUNBUixRQUFBLFNBQUEsSUFDQVMsRUFBQUosRUFBQUssV0FBQUEsV0FBQUYsR0FDQU4sU0FBQVMsZUFBQUYsR0FBQUcsVUFBQUMsT0FBQSxnQkFDQVgsU0FBQVMsZUFBQUYsR0FBQUcsVUFBQUMsT0FBQSxnQkFDQVgsU0FBQVMsZUFBQUosR0FBQUssVUFBQUMsT0FBQSxnQkFDQVgsU0FBQVMsZUFBQUosR0FBQUssVUFBQUMsT0FBQSxnQkFDQVgsU0FBQUMsaUJBQUEsNEJBQ0FDLFFBQUEsU0FBQVUsR0FDQUEsRUFBQUMsVUFDQUMsRUFBQUYsRUFBQU4sR0FDQVMsbUJBQUFDLEtBQUFGLEVBQUFqQixjQUdBb0IsRUFBQWpCLFNBQUFTLGVBQUEsYUFBQVMsTUFDQUMsUUFBQUMsSUFBQUgsR0FDQUYsbUJBQUFNLE9BQUFKLEVBQUFwQixXQUNBeUIsRUFBQXRCLFNBQUFTLGVBQUEsYUFBQVMsTUFDQUgsbUJBQUFRLEtBQUFELEVBQUF6QixXQUdBMkIsRUFBQXhCLFNBQUFTLGVBQUEsZUFBQVMsTUFDQUgsbUJBQUFVLE9BQUFELEVBQUEzQixXQUNBc0IsUUFBQUMsSUFBQUwsd0JBR0EsSUFBQVcsZUFBQTFCLFNBQUFDLGlCQUNBLGtDQUVBeUIsZUFBQXhCLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsaUJBQUEsUUFBQSxXQUNBLElBQ0FDLEdBREFBLEVBQUFGLEVBQUFHLElBQ0FSLFFBQUEsU0FBQSxJ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LEVBQUEsZ0JBQUFLLElBQUFxRyxNQUdBMUcsRUFBQSxnQkFBQUssSUFBQUwsRUFBQSxpQkFBQWlHLE9BQUEsU0FBQSxVQUNBakcsRUFBQSxnQkFBQTJHLE9BQUEsV0FDQTNHLEVBQUEsaUJBQUFpRyxPQUFBLFFBQUFqRyxFQUFBSSxNQUFBQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbkBhdXRob3I6IGZlbGl4ZnJlaWRtYW4gXG5AbWFpbDogZmVsaXhmcmVpZG1hbmRldkBnbWFpbC5jb21cbkBub3RlOiDQuNGJ0YMg0YDQsNCx0L7RgtGDXG4qL1xuLy8g0JLRgNC10LzQtdC90L3QvtC1INGA0LXRiNC10L3QuNC1INC00LXQu9C10L3QuNGPINC90LAg0YDQsNC30YDRj9C00YssINC/0L7RgtC+0Lwg0LzQsNGB0LrQsCDQsdGD0LTQtdGCINGA0LDQsdC+0YLQsNGC0YxcbmZ1bmN0aW9uIG51bWJlcldpdGhDb21tYXMoeCkge1xuICAgIHJldHVybiB4LnRvU3RyaW5nKCkucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIuXCIpO1xufVxuLy8g0KDQsNCx0L7RgtCwINC80LXQvdGOINC4INGB0L7Qt9C00LDQvdC40Y8g0L7QsdGK0LXQutGC0LAg0LTQu9GPINCx0YPQtNGD0YnQtdC5INC/0LXRgNC10LTQsNGH0LgsXG4vLyDQt9Cw0YLQtdC8INGD0LbQtSDRgtGA0LDQvdC/0LjQu9GP0YbQuNGPINC90LAg0LLQsNC20L3Ri9C1INC00LDQvdC90YvQtVxuY29uc3QgYWxsTmV4dEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgIFwiLmZvcm0tbmF2aWdhdGlvbl9fYnV0dG9uLS1uZXh0XCJcbik7XG5hbGxOZXh0QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbGV0IGJ1dHRvbklkID0gYnV0dG9uLmlkO1xuICAgICAgICBidXR0b25JZCA9IGJ1dHRvbklkLnJlcGxhY2UoXCJCdXR0b25cIiwgXCJcIik7XG4gICAgICAgIGxldCBwYXJlbnRJZCA9IGJ1dHRvbi5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWQ7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudElkKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1oaWRlXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCkuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0tc2hvd1wiKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uSWQpLmNsYXNzTGlzdC50b2dnbGUoXCJzY3JlZW4tLWhpZGVcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbklkKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1zaG93XCIpO1xuICAgICAgICBjb25zdCB0eXBlc0lucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtuYW1lPSdhdXRvU2VsZWN0J11cIik7XG4gICAgICAgIHR5cGVzSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGxldCBjaGVja2VkT3B0aW9uID0gaW5wdXQuaWQ7XG4gICAgICAgICAgICAgICAgZGV0YWlsZWRGb3JtT2JqZWN0LnR5cGUgPSBjaGVja2VkT3B0aW9uLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjcmVkaXRTdW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnRJbnB1dFwiKS52YWx1ZTtcbiAgICAgICAgY29uc29sZS5sb2coY3JlZGl0U3VtKTtcbiAgICAgICAgZGV0YWlsZWRGb3JtT2JqZWN0LmNyZWRpdCA9IGNyZWRpdFN1bS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBjcmVkaXRUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aW1lSW5wdXRcIikudmFsdWU7XG4gICAgICAgIGRldGFpbGVkRm9ybU9iamVjdC50aW1lID0gY3JlZGl0VGltZS50b1N0cmluZygpO1xuICAgICAgICAvLyBjb25zdCB1c2VySW5jb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmNvbWVJbnB1dFwiKS52YWx1ZTtcbiAgICAgICAgLy8gZGV0YWlsZWRGb3JtT2JqZWN0LmluY29tZSA9IHVzZXJJbmNvbWUudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgY3JlZGl0SW52ZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZlc3RJbnB1dFwiKS52YWx1ZTtcbiAgICAgICAgZGV0YWlsZWRGb3JtT2JqZWN0LmludmVzdCA9IGNyZWRpdEludmVzdC50b1N0cmluZygpO1xuICAgICAgICBjb25zb2xlLmxvZyhkZXRhaWxlZEZvcm1PYmplY3QpO1xuICAgIH0pO1xufSk7XG5jb25zdCBhbGxQcmV2QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgXCIuZm9ybS1uYXZpZ2F0aW9uX19idXR0b24tLXByZXZcIlxuKTtcbmFsbFByZXZCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBsZXQgYnV0dG9uSWQgPSBidXR0b24uaWQ7XG4gICAgICAgIGJ1dHRvbklkID0gYnV0dG9uSWQucmVwbGFjZShcIkJ1dHRvblwiLCBcIlwiKTtcbiAgICAgICAgbGV0IHBhcmVudElkID0gYnV0dG9uLnBhcmVudE5vZGUucGFyZW50Tm9kZS5pZDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50SWQpLmNsYXNzTGlzdC50b2dnbGUoXCJzY3JlZW4tLWhpZGVcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudElkKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1zaG93XCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b25JZCkuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0taGlkZVwiKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uSWQpLmNsYXNzTGlzdC50b2dnbGUoXCJzY3JlZW4tLXNob3dcIik7XG4gICAgfSk7XG59KTtcbmNvbnN0IGRldGFpbGVkRm9ybU9iamVjdCA9IHtcbiAgICB0eXBlOiBcIlwiLFxuICAgIGNyZWRpdDogXCJcIixcbiAgICB0aW1lOiBcIlwiLFxuICAgIC8vIGluY29tZTogXCJcIixcbiAgICBpbnZlc3Q6IFwiXCIsXG4gICAgdXNlck5hbWU6IFwiXCIsXG4gICAgdXNlclBob25lOiBcIlwiLFxufTtcbi8vINCS0LDRgNC40LDRhtC40Y8g0YTQvtGA0LzRiyDQtNC70Y8g0L3QtdC+0L/RgNC10LTQu9C10L3QvdC+0LPQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbmNvbnN0IGRldGFpbGVkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXRhaWxlZEZvcm1cIik7XG5kZXRhaWxlZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyc3RTY3JlZW5cIikuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0taGlkZVwiKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcnN0U2NyZWVuXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJzY3JlZW4tLXNob3dcIik7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWNvbmRTY3JlZW5cIikuY2xhc3NMaXN0LnRvZ2dsZShcInNjcmVlbi0taGlkZVwiKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlY29uZFNjcmVlblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwic2NyZWVuLS1zaG93XCIpO1xufSk7XG4vLyDQktC10YDQuNGE0LjQutCw0YbQuNGPINC30LDQv9C+0LvQvdC10L3QuNGPINC00LDQvdC90YvRhSDQsiDRhNC+0YDQvNGDXG5jb25zdCB1c2VyTmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyTmFtZVwiKTtcbmNvbnN0IHVzZXJQaG9uZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyUGhvbmVcIik7XG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAkKFwiLnN1Ym1pdC1idXR0b25cIikuYWRkQ2xhc3MoXCJmb3JtLW5hdmlnYXRpb25fX2J1dHRvbi0tZGlzYWJsZWRcIik7XG4gICAgJChcIiN1c2VyTmFtZVwiKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ5ZXNcIik7XG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpLmxlbmd0aCAhPSAwICYmICQoXCIjdXNlclBob25lXCIpLnZhbCgpLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAkKFwiLnN1Ym1pdC1idXR0b25cIikucmVtb3ZlQ2xhc3MoXCJmb3JtLW5hdmlnYXRpb25fX2J1dHRvbi0tZGlzYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAkKFwiI3VzZXJQaG9uZVwiKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ5ZXNcIik7XG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpLmxlbmd0aCAhPSAwICYmICQoXCIjdXNlck5hbWVcIikudmFsKCkubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICQoXCIuc3VibWl0LWJ1dHRvblwiKS5yZW1vdmVDbGFzcyhcImZvcm0tbmF2aWdhdGlvbl9fYnV0dG9uLS1kaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG4vLyDQkdCe0JvQrNCo0JDQryDQodCV0JrQptCY0K8g0JzQldCd0K4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vINCg0LDQsdC+0YLQsCDRgSDQtNC40L3QsNC80LjQtdGH0LXRgdC60LjQvCDQvNC10L3RjlxuY29uc3Qgd29ya1Byb2NjZXNzQnV0dG9uT3BlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgIFwid29ya1Byb2NjZXNzQnV0dG9uT3BlblwiXG4pO1xuY29uc3Qgd29ya1Byb2NjZXNzQnV0dG9uQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcIndvcmtQcm9jY2Vzc0J1dHRvbkNsb3NlXCJcbik7XG5jb25zdCBxdWVzdGlvbkJ1dHRvbk9wZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXN0aW9uQnV0dG9uT3BlblwiKTtcbmNvbnN0IHF1ZXN0aW9uQnV0dG9uQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXN0aW9uQnV0dG9uQ2xvc2VcIik7XG5jb25zdCBiYW5rc0J1dHRvbk9wZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhbmtzQnV0dG9uT3BlblwiKTtcbmNvbnN0IGJhbmtzQnV0dG9uQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhbmtzQnV0dG9uQ2xvc2VcIik7XG5jb25zdCB2ZXJ0aWNhbFNtYWxsQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgXCJ2ZXJ0aWNhbFNtYWxsQ29udGFpbmVyXCJcbik7XG5jb25zdCB2ZXJ0aWNhbEJpZ0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmVydGljYWxCaWdDb250YWluZXJcIik7XG5jb25zdCBiYXNpY01lbnVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhc2ljTWVudUNvbnRhaW5lclwiKTtcbmNvbnN0IGFib3V0QnV0dG9uQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFib3V0QnV0dG9uQ2xvc2VcIik7XG4vLyDQodC10LrRhtC40Y8g0LTQu9GPINC30LDQv9GD0YHQutCwINGB0L7QsdGL0YLQuNC5INC/0L4g0L3QsNC20LDRgtC40Y4g0LrQvdC+0L/QvtC6XG53b3JrUHJvY2Nlc3NCdXR0b25PcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKCF3b3JrUHJvY2Nlc3NCdXR0b25PcGVuLmNsYXNzTGlzdC5jb250YWlucyhcInNtYWxsSG9yaXpvbnRhbEV4cGFuZGVkXCIpKVxuICAgICAgICB3b3JrUHJvY2Nlc3NCdXR0b25PcGVuLmNsYXNzTGlzdC5hZGQoXCJzbWFsbEhvcml6b250YWxFeHBhbmRlZFwiKTtcbn0pO1xucXVlc3Rpb25CdXR0b25PcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKCFxdWVzdGlvbkJ1dHRvbk9wZW4uY2xhc3NMaXN0LmNvbnRhaW5zKFwic21hbGxIb3Jpem9udGFsRXhwYW5kZWRcIikpIHtcbiAgICAgICAgcXVlc3Rpb25CdXR0b25PcGVuLmNsYXNzTGlzdC5hZGQoXCJzbWFsbEhvcml6b250YWxFeHBhbmRlZFwiKTtcbiAgICAgICAgc2V0VGltZW91dChpbml0UXVlc3Rpb25Td2lwZXIsIDMwMCk7XG4gICAgfVxufSk7XG5cbmJhbmtzQnV0dG9uT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGlmICghYmFua3NCdXR0b25PcGVuLmNsYXNzTGlzdC5jb250YWlucyhcImJ1dHRvbkV4cGFuZEJpZ1wiKSlcbiAgICAgICAgYmFua3NCdXR0b25PcGVuLmNsYXNzTGlzdC5hZGQoXCJidXR0b25FeHBhbmRCaWdcIik7XG59KTtcbnZlcnRpY2FsU21hbGxDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpZiAoIXZlcnRpY2FsU21hbGxDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29udGFpbmVyU21hbGxFeHBhbmRcIikpIHtcbiAgICAgICAgdmVydGljYWxTbWFsbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY29udGFpbmVyU21hbGxFeHBhbmRcIik7XG4gICAgICAgIGJhc2ljTWVudUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWVudVRyYW5zZm9ybWVkXCIpO1xuICAgICAgICBpbml0QWJvdXRTd2lwZXIoKTtcbiAgICB9XG59KTtcblxuYmFua3NCdXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VCdXR0b24pO1xuXG5mdW5jdGlvbiBjbG9zZUJ1dHRvbigpIHtcbiAgICBzZXRUaW1lb3V0KGNsb3NlQnV0dG9uRGVsYXksIDEwMCk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlQnV0dG9uRGVsYXkoKSB7XG4gICAgYmFua3NCdXR0b25PcGVuLmNsYXNzTGlzdC50b2dnbGUoXCJidXR0b25FeHBhbmRCaWdcIik7XG59XG5cbmFib3V0QnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlQnV0dG9uQWJvdXQpO1xuXG5mdW5jdGlvbiBjbG9zZUJ1dHRvbkFib3V0KCkge1xuICAgIHNldFRpbWVvdXQoY2xvc2VCdXR0b25BYm91dERlbGF5LCAxMDApO1xufVxuXG5mdW5jdGlvbiBjbG9zZUJ1dHRvbkFib3V0RGVsYXkoKSB7XG4gICAgdmVydGljYWxTbWFsbENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiY29udGFpbmVyU21hbGxFeHBhbmRcIik7XG4gICAgYmFzaWNNZW51Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51VHJhbnNmb3JtZWRcIik7XG59XG5cbndvcmtQcm9jY2Vzc0J1dHRvbkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUJ1dHRvblByb2Nlc3MpO1xuXG5mdW5jdGlvbiBjbG9zZUJ1dHRvblByb2Nlc3MoKSB7XG4gICAgc2V0VGltZW91dChjbG9zZUJ1dHRvblByb2Nlc3NEZWxheSwgMTAwKTtcbn1cblxuZnVuY3Rpb24gY2xvc2VCdXR0b25Qcm9jZXNzRGVsYXkoKSB7XG4gICAgd29ya1Byb2NjZXNzQnV0dG9uT3Blbi5jbGFzc0xpc3QudG9nZ2xlKFwic21hbGxIb3Jpem9udGFsRXhwYW5kZWRcIik7XG59XG5cbnF1ZXN0aW9uQnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlQnV0dG9uUXVlc3Rpb24pO1xuXG5mdW5jdGlvbiBjbG9zZUJ1dHRvblF1ZXN0aW9uKCkge1xuICAgIHNldFRpbWVvdXQoY2xvc2VCdXR0b25RdWVzdGlvbkRlbGF5LCAxMDApO1xufVxuXG5mdW5jdGlvbiBjbG9zZUJ1dHRvblF1ZXN0aW9uRGVsYXkoKSB7XG4gICAgcXVlc3Rpb25CdXR0b25PcGVuLmNsYXNzTGlzdC50b2dnbGUoXCJzbWFsbEhvcml6b250YWxFeHBhbmRlZFwiKTtcbn1cbi8vINCd0LDQtNC+INCx0YPQtNC10YIg0L/QvtGC0L7QvCDQuNC90LjRhtC40YDQvtCy0LDRgtGMINGB0LLQsNC50L/QtdGA0Ytcbi8vINC/0L4g0LfQsNC/0YPRgdC60YMg0LrQvdC+0L/QutC4LCDRh9GC0L7QsdGLINC+0L3QuCDQvdC+0YDQvNCw0LvRjNC90L4g0LLQtdGA0YHRgtCw0LvQuNGB0YxcbmZ1bmN0aW9uIGluaXRBYm91dFN3aXBlcigpIHtcbiAgICBsZXQgc3dpcGVyQWJvdXQgPSBuZXcgU3dpcGVyKFwiI2Fib3V0U3dpcGVyXCIsIHtcbiAgICAgICAgLy8gbmF2aWdhdGlvbjoge1xuICAgICAgICAvLyAgICAgbmV4dEVsOiBcIi5idXR0b24tYWJvdXQtLW5leHRcIixcbiAgICAgICAgLy8gICAgIHByZXZFbDogXCIuYnV0dG9uLWFib3V0LS1wcmV2XCIsXG4gICAgICAgIC8vIH0sXG4gICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgIGVsOiBcIi5hYm91dC1wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgICByZW5kZXJCdWxsZXQ6IGZ1bmN0aW9uKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVhZHlFbGVtZW50ID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwiJHtjbGFzc05hbWV9IGJ1bGxldC1zcGVjaWFsXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcyA9XCJidWxsZXQtaGVhZGVyXCI+JHttZW51Q29tcGFueVtpbmRleF19PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwiXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWR5RWxlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgIGVmZmVjdDogXCJjdWJlXCIsXG4gICAgICAgIHNwZWVkOiA4MDAsXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRRdWVzdGlvblN3aXBlcigpIHtcbiAgICBsZXQgc3dpcGVyUXVlc3Rpb24gPSBuZXcgU3dpcGVyKFwiI3F1ZXN0aW9uU3dpcGVyXCIsIHtcbiAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgZWw6IFwiLnF1ZXN0aW9uLXBhZ2luYXRpb25cIixcbiAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlbmRlckJ1bGxldDogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVhZHlFbGVtZW50ID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwic3dpcGVyLXBhZ2luYXRpb24tYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwicXVlc3Rpb24taW1hZ2VcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYyA9IFwiJHtxdWVzdGlvbkltYWdlc1tpbmRleF19XCIvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3MgPSBcInF1ZXN0aW9uLWhlYWRlclwiPiR7cXVlc3Rpb25IZWFkZXJzW2luZGV4XX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZHlFbGVtZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgZWZmZWN0OiBcImZhZGVcIixcbiAgICAgICAgc3BlZWQ6IDgwMCxcbiAgICAgICAgZGlyZWN0aW9uOiBcInZlcnRpY2FsXCIsXG4gICAgfSk7XG59XG4vLyDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINC00LDQvdC90YvRhSDQvtGCINGB0LvQsNC50LTQvtCyINC00LvRjyDRgNC10L3QtNC10YDQsCDQutC90L7Qv9C+0LpcblxuY29uc29sZS5sb2coXCJMb2hcIik7XG5sZXQgcXVlc3Rpb25IZWFkZXJzID0gW107XG5sZXQgcXVlc3Rpb25IZWFkZXJBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucXVlc3Rpb24tc2xpZGVcIik7XG5xdWVzdGlvbkhlYWRlckFycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgU2xpZGVJbmZvSGVhZGVyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXF1ZXN0aW9uLWhlYWRlclwiKTtcbiAgICBxdWVzdGlvbkhlYWRlcnMucHVzaChTbGlkZUluZm9IZWFkZXIpO1xufSk7XG5jb25zb2xlLmxvZyhxdWVzdGlvbkhlYWRlckFycmF5KTtcbmxldCBxdWVzdGlvbkltYWdlcyA9IFtdO1xubGV0IHF1ZXN0aW9uSW1hZ2VBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucXVlc3Rpb24tc2xpZGVcIik7XG5xdWVzdGlvbkltYWdlQXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgIGxldCBTbGlkZUluZm9JbWFnZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1xdWVzdGlvbi1pbWFnZVwiKTtcbiAgICBxdWVzdGlvbkltYWdlcy5wdXNoKFNsaWRlSW5mb0ltYWdlKTtcbn0pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSDQkdCe0JvQrNCo0JDQryDQodCV0JrQptCY0K8g0JzQldCd0K5cblxuLyogXG5UT0RPOiDQlNC+0LrRg9C80LXQvdGC0LDRhtC40Y8g0Log0LrQvtC00YNcblRPRE86INCU0L7Qv9C40YHQsNGC0Ywg0YTQvtGA0LzRgyDQtNC70Y8g0L7Qv9GA0LXQtNC10LvQtdC90L3QvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5UT0RPOiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRj9C90LTQtdC60YHQsFxuKi8iLCIvLyDQpdGA0LDQvdC40LvQuNGJ0LAg0LTQsNGC0LAt0LTQsNC90L3Ri9GFLFxuLy/QtNC70Y8g0YPQtNC+0LHQvdC+0LPQviDQt9Cw0L/QvtC70L3QtdC90LjRjyDQtNCw0L3QvdGL0YUg0LIg0YHQstCw0LnQv9C10YDQsNGFXG5sZXQgbWVudSA9IFtdO1xubGV0IEhlYWRlcnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXR0ZW50aW9uLWNvbnRhaW5lcl9faGVhZGVyXCIpO1xuSGVhZGVyc0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgSGVhZGVyVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5mb1wiKTtcbiAgICBtZW51LnB1c2goSGVhZGVyVmFsdWUpO1xufSk7XG5sZXQgbWVudUNvbXBhbnkgPSBbXTtcbmxldCBjb21wYW55UGFnZXNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWJvdXQtaW5mb1wiKTtcbmNvbXBhbnlQYWdlc0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgSGVhZGVyVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5mb1wiKTtcbiAgICBtZW51Q29tcGFueS5wdXNoKEhlYWRlclZhbHVlKTtcbn0pO1xuLy8g0KHQstCw0LnQv9C10YDRiywg0LrQvtGC0L7RgNGL0LUg0LfQsNC/0YPRgdC60LDRjtGC0YHRjyDRgdGA0LDQt9GDXG5sZXQgc3dpcGVyR3JlZXQgPSBuZXcgU3dpcGVyKFwiI2dyZWV0aW5nU3dpcHBlclwiLCB7XG4gICAgLy8gbmF2aWdhdGlvbjoge1xuICAgIC8vICAgICBuZXh0RWw6IFwiLmdyZWV0aW5nLW5leHRcIixcbiAgICAvLyAgICAgcHJldkVsOiBcIi5ncmVldGluZy1wcmV2XCIsXG4gICAgLy8gfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGVsOiBcIi5zd2lwZXItcGFnaW5hdGlvblwiLFxuICAgICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICAgIHJlbmRlckJ1bGxldDogZnVuY3Rpb24oaW5kZXgsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgbGV0IHJlYWR5RWxlbWVudCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3MgPSBcIiR7Y2xhc3NOYW1lfSBidWxsZXQtc3BlY2lhbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3MgPVwiYnVsbGV0LWhlYWRlclwiPiR7bWVudVtpbmRleF19PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcyA9IFwiXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgICByZXR1cm4gcmVhZHlFbGVtZW50O1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBlZmZlY3Q6IFwiZmFkZVwiLFxuICAgIHNwZWVkOiA4MDAsXG4gICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICB3YXRjaFZpc2liaWxpdHk6IHRydWUsXG4gICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IHRydWUsXG59KTtcbmxldCBzd2lwZXJCYW5rcyA9IG5ldyBTd2lwZXIoXCIjYmFua3NTd2lwZXJcIiwge1xuICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiBcIi5idXR0b24tYmFuay0tbmV4dFwiLFxuICAgICAgICBwcmV2RWw6IFwiLmJ1dHRvbi1iYW5rLS1wcmV2XCIsXG4gICAgfSxcbiAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGVsOiBcIi5iYW5rcy1wYWdpbmF0aW9uXCIsXG4gICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIGxvb3A6IHRydWUsXG4gICAgZWZmZWN0OiBcImNhcmRzXCIsXG4gICAgc3BlZWQ6IDgwMCxcbiAgICBzbGlkZXNQZXJWaWV3OiA2LFxufSk7XG5cbi8vINCQ0LLRgtC+0L/QtdGH0LDRgtCw0L3QuNC1INGC0LXQutGB0YLQsCDQsiDQs9C70LDQstC90L7QvCDRgdCy0LDQudC/0LXRgNC1XG52YXIgVHh0VHlwZSA9IGZ1bmN0aW9uKGVsLCB0b1JvdGF0ZSwgcGVyaW9kKSB7XG4gICAgdGhpcy50b1JvdGF0ZSA9IHRvUm90YXRlO1xuICAgIHRoaXMuZWwgPSBlbDtcbiAgICB0aGlzLmxvb3BOdW0gPSAwO1xuICAgIHRoaXMucGVyaW9kID0gcGFyc2VJbnQocGVyaW9kLCAxMCkgfHwgMjAwMDtcbiAgICB0aGlzLnR4dCA9IFwiXCI7XG4gICAgdGhpcy50aWNrKCk7XG4gICAgdGhpcy5pc0RlbGV0aW5nID0gZmFsc2U7XG59O1xuXG5UeHRUeXBlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkgPSB0aGlzLmxvb3BOdW0gJSB0aGlzLnRvUm90YXRlLmxlbmd0aDtcbiAgICB2YXIgZnVsbFR4dCA9IHRoaXMudG9Sb3RhdGVbaV07XG5cbiAgICBpZiAodGhpcy5pc0RlbGV0aW5nKSB7XG4gICAgICAgIHRoaXMudHh0ID0gZnVsbFR4dC5zdWJzdHJpbmcoMCwgdGhpcy50eHQubGVuZ3RoIC0gMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50eHQgPSBmdWxsVHh0LnN1YnN0cmluZygwLCB0aGlzLnR4dC5sZW5ndGggKyAxKTtcbiAgICB9XG5cbiAgICB0aGlzLmVsLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cIndyYXBcIj4nICsgdGhpcy50eHQgKyBcIjwvc3Bhbj5cIjtcblxuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgZGVsdGEgPSAyMDAgLSBNYXRoLnJhbmRvbSgpICogMTAwO1xuXG4gICAgaWYgKHRoaXMuaXNEZWxldGluZykge1xuICAgICAgICBkZWx0YSAvPSAyO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc0RlbGV0aW5nICYmIHRoaXMudHh0ID09PSBmdWxsVHh0KSB7XG4gICAgICAgIGRlbHRhID0gdGhpcy5wZXJpb2Q7XG4gICAgICAgIHRoaXMuaXNEZWxldGluZyA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzRGVsZXRpbmcgJiYgdGhpcy50eHQgPT09IFwiXCIpIHtcbiAgICAgICAgdGhpcy5pc0RlbGV0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9vcE51bSsrO1xuICAgICAgICBkZWx0YSA9IDUwMDtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGF0LnRpY2soKTtcbiAgICB9LCBkZWx0YSk7XG59O1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInR5cGV3cml0ZVwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0b1JvdGF0ZSA9IGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiKTtcbiAgICAgICAgdmFyIHBlcmlvZCA9IGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtcGVyaW9kXCIpO1xuICAgICAgICBpZiAodG9Sb3RhdGUpIHtcbiAgICAgICAgICAgIG5ldyBUeHRUeXBlKGVsZW1lbnRzW2ldLCBKU09OLnBhcnNlKHRvUm90YXRlKSwgcGVyaW9kKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJTkpFQ1QgQ1NTXG4gICAgdmFyIGNzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBjc3MudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICBjc3MuaW5uZXJIVE1MID0gXCIudHlwZXdyaXRlID4gLndyYXAgeyBib3JkZXItcmlnaHQ6IDAuMDhlbSBzb2xpZCAjZmZmfVwiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3NzKTtcbn07XG4vLyDQmNC90LjRhtC40LDRhtC40Y8g0JDQntCh0JAg0LTQu9GPINC00LLQuNCz0LDRjtGJ0LXQs9C+INGC0LXQutGB0YLQsFxuQU9TLmluaXQoe1xuICAgIHN0YXJ0RXZlbnQ6IFwiRE9NQ29udGVudExvYWRlZFwiLFxufSk7XG5cbi8vINCg0LDQsdC+0YLQsNC10Lwg0YHQviDRgdC70LDQudC00LXRgNCw0LzQuCDQsiDRhNC+0YDQvNC1XG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAkKFwiI3NsaWRlckRlYnRcIikuc2xpZGVyKHtcbiAgICAgICAgcmFuZ2U6IFwibWluXCIsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiA1MDAwMDAsXG4gICAgICAgIG1pbjogMTAwMDAwLFxuICAgICAgICBtYXg6IDQzNTAwMDAsXG4gICAgICAgIHN0ZXA6IDEwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjZGVidElucHV0XCIpLnZhbChkZWJ0VmFsdWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgICQoXCIjZGVidElucHV0XCIpLnZhbCgkKFwiI3NsaWRlckRlYnRcIikuc2xpZGVyKFwib3B0aW9uXCIsIFwidmFsdWVcIikpO1xuICAgICQoXCIjZGVidElucHV0XCIpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIiNzbGlkZXJEZWJ0XCIpLnNsaWRlcihcInZhbHVlXCIsICQodGhpcykudmFsKCkpO1xuICAgIH0pO1xuICAgICQoXCIjc2xpZGVyVGltZVwiKS5zbGlkZXIoe1xuICAgICAgICByYW5nZTogXCJtaW5cIixcbiAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIG1pbjogMSxcbiAgICAgICAgbWF4OiA4LFxuICAgICAgICBzdGVwOiAxLFxuICAgICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICBsZXQgdGltZVZhbHVlID0gdWkudmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHRpbWVWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdGltZVZhbHVlID0gYCR7dGltZVZhbHVlfSDQs9C+0LRgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVWYWx1ZSA9IGAke3RpbWVWYWx1ZX0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVWYWx1ZSA9IGAke3RpbWVWYWx1ZX0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHRpbWVWYWx1ZSA9IGAke3RpbWVWYWx1ZX0g0LPQvtC00LBgO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aW1lVmFsdWUgPSBgJHt0aW1lVmFsdWV9INC70LXRgmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKFwiI3RpbWVJbnB1dFwiKS52YWwodGltZVZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAkKFwiI3RpbWVJbnB1dFwiKS52YWwoJChcIiNzbGlkZXJUaW1lXCIpLnNsaWRlcihcIm9wdGlvblwiLCBcInZhbHVlXCIpKTtcbiAgICBsZXQgdGltZVZhbHVlID0gJChcIiN0aW1lSW5wdXRcIikudmFsKCk7XG4gICAgc3dpdGNoICh0aW1lVmFsdWUpIHtcbiAgICAgICAgZGVmYXVsdDogdGltZVZhbHVlID0gYCR7dGltZVZhbHVlfSDQs9C+0LTQsGA7XG4gICAgfVxuICAgICQoXCIjdGltZUlucHV0XCIpLnZhbCh0aW1lVmFsdWUpO1xuICAgICQoXCIjdGltZUlucHV0XCIpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIiNzbGlkZXJUaW1lXCIpLnNsaWRlcihcInZhbHVlXCIsICQodGhpcykudmFsKCkpO1xuICAgIH0pO1xuICAgICQoXCIjc2xpZGVySW5jb21lXCIpLnNsaWRlcih7XG4gICAgICAgIHJhbmdlOiBcIm1pblwiLFxuICAgICAgICBhbmltYXRlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogMzAwMDAsXG4gICAgICAgIG1pbjogMTAwMDAsXG4gICAgICAgIG1heDogNTAwMDAwLFxuICAgICAgICBzdGVwOiA1MDAwLFxuICAgICAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICBsZXQgZGVidFZhbHVlID0gdWkudmFsdWU7XG4gICAgICAgICAgICBkZWJ0VmFsdWUgPSBudW1iZXJXaXRoQ29tbWFzKGRlYnRWYWx1ZSk7XG4gICAgICAgICAgICAkKFwiI2luY29tZUlucHV0XCIpLnZhbChkZWJ0VmFsdWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgICQoXCIjaW5jb21lSW5wdXRcIikudmFsKCQoXCIjc2xpZGVySW5jb21lXCIpLnNsaWRlcihcIm9wdGlvblwiLCBcInZhbHVlXCIpKTtcbiAgICAkKFwiI2luY29tZUlucHV0XCIpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIiNzbGlkZXJJbmNvbWVcIikuc2xpZGVyKFwidmFsdWVcIiwgJCh0aGlzKS52YWwoKSk7XG4gICAgfSk7XG4gICAgJChcIiNzbGlkZXJJbnZlc3RcIikuc2xpZGVyKHtcbiAgICAgICAgcmFuZ2U6IFwibWluXCIsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAxMDAwMDAsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA0MDAwMDAsXG4gICAgICAgIHN0ZXA6IDEwMDAsXG4gICAgICAgIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgICAgIGxldCBkZWJ0VmFsdWUgPSB1aS52YWx1ZTtcbiAgICAgICAgICAgIGRlYnRWYWx1ZSA9IG51bWJlcldpdGhDb21tYXMoZGVidFZhbHVlKTtcbiAgICAgICAgICAgICQoXCIjaW52ZXN0SW5wdXRcIikudmFsKGRlYnRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgJChcIiNpbnZlc3RJbnB1dFwiKS52YWwoJChcIiNzbGlkZXJJbnZlc3RcIikuc2xpZGVyKFwib3B0aW9uXCIsIFwidmFsdWVcIikpO1xuICAgICQoXCIjaW52ZXN0SW5wdXRcIikuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI3NsaWRlckludmVzdFwiKS5zbGlkZXIoXCJ2YWx1ZVwiLCAkKHRoaXMpLnZhbCgpKTtcbiAgICB9KTtcbn0pOyJdfQ==
